{% block banner %}
# =========== Managed by sonic-cfggen -- DO NOT edit manually! ====================
# Generated by /usr/share/sonic/templates/radvd.conf.j2 using config DB data
# File: /etc/radvd.conf
#
{% endblock banner %}
# Config file for radvd, the router advertisement daemon
# See man page for radvd.conf for descriptions of all available options
#

{% if VLAN_INTERFACE %}
        {% set interfaces = [] %}
        {% set INTF_CFG = dict() %}
        {% for (name, prefix) in VLAN_INTERFACE %}
                {% if prefix | ipv6 %}
                        {% if name not in INTF_CFG %}
                                {% set x=INTF_CFG.__setitem__(name, []|list) %}
                        {% endif %}
                        {% set x=INTF_CFG.__setitem__(name, [prefix]|list + INTF_CFG[name]|list) %}
                {% endif %}
        {% endfor %}
{% for (iface, prefixlist) in INTF_CFG.items() %}

interface {{ iface }}
{
IgnoreIfMissing on;
AdvSendAdvert on;
MinRtrAdvInterval 200;
MaxRtrAdvInterval 600;
AdvManagedFlag on;
AdvOtherConfigFlag off;
AdvLinkMTU 9100;
AdvHomeAgentFlag off;
{% for prefix in prefixlist %}
    prefix {{ prefix | network }}/{{ prefix | prefixlen }} {
        AdvOnLink on;
        AdvAutonomous off;
        AdvRouterAddr off;
        AdvValidLifetime infinity;
        AdvPreferredLifetime infinity;
    };
{% endfor %}
};
{% endfor %}
{% endif %}
